cmake_minimum_required(VERSION 3.4.1)
project(example_lib)

enable_language(ASM)

# Set as required by ../third_party/dart-sdk/sources.cmake included below
set(DARTSDK_ROOT ../third_party/dart-sdk/)

# Import sources generated by tool/update-dart-sdk.py
# This provides variables, and requires DARTSDK_ROOT to be set.
#  - dart_dl_sources
include(
  ../third_party/dart-sdk/sources.cmake
)

add_library(
  example_lib

  # Sets the library as a shared library.
  SHARED

  # Link to the dart libraies
  ${dart_dl_sources}
  # Provides a relative path to your source file(s).
  ../ios/Classes/example_lib.cpp
)

target_include_directories(
  example_lib

  PUBLIC
  ../third_party/dart-sdk/src/runtime/
)
